{"version":3,"file":"js/503.0f5b39d2d3e41aab4aa5.js","mappings":"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","sources":["webpack://kalitemu-super/./src/views/account/components/UserOrdersTab.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Image, Table, Button, Pagination, Popover } from \"antd\";\r\nimport { displayMoney } from \"helpers/utils\";\r\nimport moment from \"moment\";\r\nimport { BasketItem } from \"components/basket\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ImageLoader } from \"components/common\";\r\nimport firebase, { db } from \"services/firebase\";\r\n\r\nconst UserOrdersTab = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  let { userFav } = useState([]);\r\n  let nomer = 1;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const fetchOrders = async () => {\r\n    setOrders([]);\r\n\r\n    const response = db.collection(\"orders\");\r\n    const data = await response.get();\r\n    data.docs.map((item) => {\r\n      setOrders((oldArray, index) => [\r\n        ...oldArray,\r\n        {\r\n          no: nomer++,\r\n          id: item.data().orderID,\r\n          orderUserId: item.data().orderUserID,\r\n          amount: displayMoney(Math.floor(item.data().amount / 100)),\r\n          date: new Date(item.data().createdDate * 1000).toLocaleString(),\r\n          detail: item.data().orderItem,\r\n          // number: item.data().shipping.mobile.value,\r\n        },\r\n\r\n        // console.log(item.data().shipping),\r\n      ]);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  // const launchOptimistic = orders.map((elem) =>\r\n  //   elem.detail.map((item) => ({\r\n  //     image: item.image,\r\n  //     product: item.name,\r\n  //     qty: item.quantity,\r\n  //     price: displayMoney(Math.floor(item.price)),\r\n  //   }))\r\n  // );\r\n\r\n  console.log(orders);\r\n  // console.log(launchOptimistic);\r\n\r\n  userFav = orders.filter(\r\n    (item) => item.orderUserId === firebase.auth.currentUser.uid\r\n  );\r\n\r\n  console.log(userFav);\r\n  console.log(firebase.auth.currentUser.uid);\r\n\r\n  const hide = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleVisibleChange = (newVisible) => {\r\n    setVisible(newVisible);\r\n  };\r\n\r\n  const [dataSource, setDataSource] = useState([\r\n    {\r\n      no: 1,\r\n      id: \"ASDW123DCXSSW21\",\r\n      amount: displayMoney(Math.floor(40000)),\r\n      date: new Date(1660448345 * 1000).toLocaleString(),\r\n      address: \"Kebon Dewa- Jl. Mataram-Sikur\",\r\n    },\r\n  ]);\r\n\r\n  // Detail Source\r\n  const [detailSource, setDetailSource] = useState([\r\n    {\r\n      image:\r\n        \"https://firebasestorage.googleapis.com/v0/b/kalitemusuper.appspot.com/o/products%2F5BwF0FlP5r2THRro3EY8?alt=media&token=65c5ae44-afd5-49e3-8a1b-dad2c43203d2\",\r\n      product: \"Kalitemu Super\",\r\n      qty: 6,\r\n      price: displayMoney(Math.floor(40000)),\r\n    },\r\n    {\r\n      image:\r\n        \"https://firebasestorage.googleapis.com/v0/b/kalitemusuper.appspot.com/o/products%2F0tqU545lvhloQ2UusD49?alt=media&token=f978f740-be9e-4bdf-bfe1-394b7619f267\",\r\n      product: \"Kalitemu Super\",\r\n      qty: 5,\r\n      price: displayMoney(Math.floor(70000)),\r\n    },\r\n  ]);\r\n\r\n  // Column\r\n  const detailsColumns = [\r\n    {\r\n      key: \"1\",\r\n      title: \"Images\",\r\n      dataIndex: \"images\",\r\n      render: (images) => <Image width={100} height={100} src={images} />,\r\n    },\r\n    {\r\n      key: \"2\",\r\n      title: \"Product\",\r\n      dataIndex: \"product\",\r\n    },\r\n    {\r\n      key: \"3\",\r\n      title: \"Qty\",\r\n      dataIndex: \"qty\",\r\n    },\r\n    {\r\n      key: \"4\",\r\n      title: \"Price\",\r\n      dataIndex: \"price\",\r\n    },\r\n  ];\r\n\r\n  const columns = [\r\n    {\r\n      key: \"1\",\r\n      title: \"No\",\r\n      dataIndex: \"no\", // this is the value that is parsed from the DB / server side\r\n    },\r\n    {\r\n      key: \"2\",\r\n      title: \"ID\",\r\n      dataIndex: \"id\",\r\n    },\r\n    {\r\n      key: \"3\",\r\n      title: \"Amount\",\r\n      dataIndex: \"amount\",\r\n    },\r\n    {\r\n      key: \"4\",\r\n      title: \"Date\",\r\n      dataIndex: \"date\",\r\n      sorter: (a, b) => moment(a.date).unix() - moment(b.date).unix(),\r\n    },\r\n    {\r\n      key: \"5\",\r\n      title: \"Detail\",\r\n      dataIndex: \"detail\",\r\n      render: (detail) => (\r\n        <div>\r\n          {detail.map(function (element, index) {\r\n            return (\r\n              <div className=\"basket-item\">\r\n                <div className=\"basket-item-wrapper\">\r\n                  <div className=\"basket-item-img-wrapper\">\r\n                    <ImageLoader\r\n                      alt={element.name}\r\n                      className=\"basket-item-img\"\r\n                      src={element.image}\r\n                    />\r\n                  </div>\r\n                  <div className=\"basket-item-details\">\r\n                    <h4 className=\"underline basket-item-name\">\r\n                      {element.name}\r\n                    </h4>\r\n\r\n                    <div className=\"basket-item-specs\">\r\n                      <div>\r\n                        <span className=\"spec-title\">Quantity</span>\r\n                        <h5 className=\"my-0\">{element.quantity}</h5>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"spec-title\">Ukuran</span>\r\n                        <h5 className=\"my-0\">{element.selectedSize} mm</h5>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"spec-title\">Warna</span>\r\n                        <div\r\n                          style={{\r\n                            backgroundColor:\r\n                              element.selectedColor ||\r\n                              element.availableColors[0],\r\n                            width: \"15px\",\r\n                            height: \"15px\",\r\n                            borderRadius: \"50%\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"basket-item-price\">\r\n                    <h4 className=\"my-0\">\r\n                      {displayMoney(element.price * element.quantity)}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={userFav}\r\n        pagination={{\r\n          defaultPageSize: 2,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserOrdersTab;\r\n"],"names":["React","useEffect","useState","Image","Table","Button","Pagination","Popover","displayMoney","moment","BasketItem","useDispatch","ImageLoader","firebase","db","UserOrdersTab","visible","setVisible","orders","setOrders","userFav","nomer","dispatch","fetchOrders","response","collection","get","data","docs","map","item","oldArray","index","no","id","orderID","orderUserId","orderUserID","amount","Math","floor","date","Date","createdDate","toLocaleString","detail","orderItem","console","log","filter","auth","currentUser","uid","hide","handleVisibleChange","newVisible","address","dataSource","setDataSource","image","product","qty","price","detailSource","setDetailSource","detailsColumns","key","title","dataIndex","render","images","columns","sorter","a","b","unix","element","name","quantity","selectedSize","backgroundColor","selectedColor","availableColors","width","height","borderRadius","defaultPageSize"],"sourceRoot":""}